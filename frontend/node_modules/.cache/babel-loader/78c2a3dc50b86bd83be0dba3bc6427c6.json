{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zhengshipeng/Desktop/NS/wp1092-final/app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/zhengshipeng/Desktop/NS/wp1092-final/app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{sha256}from'crypto-js';var instance=axios.create({// baseURL: `http://localhost:4000/api`,\nbaseURL:''});var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(user){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return instance.post('/user/login',user);case 3:res=_context.sent;// user.password = sha256(user.password)\nconsole.log(res);return _context.abrupt(\"return\",res);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);if(_context.t0.response){_context.next=14;break;}return _context.abrupt(\"return\",'Server no response');case 14:console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function login(_x){return _ref.apply(this,arguments);};}();var signUp=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(user){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return instance.post('/user/signup',user);case 3:res=_context2.sent;console.log(res);_context2.next=14;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);if(_context2.t0.response){_context2.next=13;break;}return _context2.abrupt(\"return\",'Server no response');case 13:console.log(_context2.t0);case 14:console.log(res);return _context2.abrupt(\"return\",res);case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function signUp(_x2){return _ref2.apply(this,arguments);};}();var getGameByDate=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(date){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return instance.get('/schedule/Games',{params:{gameDateTime:date.getFullYear()+'-'+(date.getMonth()+1)+'-'+date.getDate()}});case 3:res=_context3.sent;_context3.next=13;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);if(_context3.t0.response){_context3.next=12;break;}return _context3.abrupt(\"return\",'Server no response');case 12:console.log(_context3.t0);case 13:return _context3.abrupt(\"return\",res);case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function getGameByDate(_x3){return _ref3.apply(this,arguments);};}();// type = 'away' | 'home'\nvar newBet=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(username,gameID,type,money){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(username);_context4.prev=1;_context4.next=4;return instance.post('/bet/newBet',{username:username,gameID:gameID,type:type,money:money});case 4:res=_context4.sent;_context4.next=14;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](1);if(_context4.t0.response){_context4.next=13;break;}return _context4.abrupt(\"return\",'Server no response');case 13:console.log(_context4.t0);case 14:console.log(res);return _context4.abrupt(\"return\",res);case 16:case\"end\":return _context4.stop();}}},_callee4,null,[[1,7]]);}));return function newBet(_x4,_x5,_x6,_x7){return _ref4.apply(this,arguments);};}();var getBetHistory=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(username){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return instance.get('/user/bets',{params:{name:username}});case 3:res=_context5.sent;_context5.next=13;break;case 6:_context5.prev=6;_context5.t0=_context5[\"catch\"](0);if(_context5.t0.response){_context5.next=12;break;}return _context5.abrupt(\"return\",'Server no response');case 12:console.log(_context5.t0);case 13:return _context5.abrupt(\"return\",res);case 14:case\"end\":return _context5.stop();}}},_callee5,null,[[0,6]]);}));return function getBetHistory(_x8){return _ref5.apply(this,arguments);};}();var drawBet=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id,gameID){var res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return instance.post('/bet/drawBet',{id:id,gameID:gameID});case 3:res=_context6.sent;_context6.next=13;break;case 6:_context6.prev=6;_context6.t0=_context6[\"catch\"](0);if(_context6.t0.response){_context6.next=12;break;}return _context6.abrupt(\"return\",'Server no response');case 12:console.log(_context6.t0);case 13:return _context6.abrupt(\"return\",res);case 14:case\"end\":return _context6.stop();}}},_callee6,null,[[0,6]]);}));return function drawBet(_x9,_x10){return _ref6.apply(this,arguments);};}();var getGameById=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(home,visitor){var res;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return instance.get('/schedule/gamesById',{params:{homeTeamAbbr:home,visitorTeamAbbr:visitor}});case 3:res=_context7.sent;_context7.next=13;break;case 6:_context7.prev=6;_context7.t0=_context7[\"catch\"](0);if(_context7.t0.response){_context7.next=12;break;}return _context7.abrupt(\"return\",'Server no response');case 12:console.log(_context7.t0);case 13:return _context7.abrupt(\"return\",res);case 14:case\"end\":return _context7.stop();}}},_callee7,null,[[0,6]]);}));return function getGameById(_x11,_x12){return _ref7.apply(this,arguments);};}();export{login,signUp,getGameByDate,newBet,getBetHistory,drawBet,getGameById};","map":{"version":3,"sources":["/Users/zhengshipeng/Desktop/NS/wp1092-final/app/frontend/src/api.js"],"names":["axios","sha256","instance","create","baseURL","login","user","post","res","console","log","response","signUp","getGameByDate","date","get","params","gameDateTime","getFullYear","getMonth","getDate","newBet","username","gameID","type","money","getBetHistory","name","drawBet","id","getGameById","home","visitor","homeTeamAbbr","visitorTeamAbbr"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {sha256} from 'crypto-js'\n\nconst instance = axios.create({\n  // baseURL: `http://localhost:4000/api`,\n  baseURL: '',\n});\n\nconst login = async (user) => { //user = {name, password(明碼)}\n    let res\n    try {\n      // user.password = sha256(user.password) //(明碼變暗碼)\n      res = await instance.post('/user/login', user)\n      // user.password = sha256(user.password)\n      console.log(res)\n      return res\n    }\n    catch(error) {\n      if (!error.response) {\n        return 'Server no response'\n      } else {\n        console.log(error);\n      }\n    }\n}\n\nconst signUp = async (user) => { \n  let res\n  try {\n    // user.password = sha256(user.password) //(明碼變暗碼)\n    res = await instance.post('/user/signup', user)\n    console.log(res)\n  }\n  catch(error) {\n    if (!error.response) {\n      return 'Server no response'\n    } else {\n      console.log(error);\n    }\n  }\n  console.log(res)\n  return res;\n} \n\nconst getGameByDate = async (date) => { \n  // console.log(date)\n  let res;\n  try {\n    res = await instance.get('/schedule/Games', { \n      params:{\n        gameDateTime: date.getFullYear() + '-' + (date.getMonth()+1) + '-' + date.getDate()\n      }\n    });\n    // console.log(date);\n    // console.log(res);\n  }\n  catch(error) {\n    if (!error.response) {\n      return 'Server no response'\n    } else {\n      console.log(error);\n    }\n  }\n  return res;\n} \n\n// type = 'away' | 'home'\nconst newBet = async (username, gameID, type, money) => {\n  console.log(username)\n  let res;\n  try {\n    res = await instance.post('/bet/newBet', {\n      username: username,\n      gameID: gameID,\n      type: type,\n      money: money,\n    });\n  }\n  catch(error){\n    if (!error.response) {\n      return 'Server no response'\n    } else {\n      console.log(error);\n    }\n  }\n  console.log(res);\n  return res;\n}\n\nconst getBetHistory = async(username) => {\n  let res;\n  try {\n    res = await instance.get('/user/bets', { \n      params:{\n        name: username\n      }\n    });\n  }\n  catch(error) {\n    if (!error.response) {\n      return 'Server no response'\n    } else {\n      console.log(error);\n    }\n  }\n  return res;\n};\n\nconst  drawBet = async(id, gameID) => {\n  let res;\n  try {\n    res = await instance.post('/bet/drawBet', { \n      id: id,\n      gameID: gameID,\n    });\n  }\n  catch(error) {\n    if (!error.response) {\n      return 'Server no response'\n    } else {\n      console.log(error);\n    }\n  }\n  return res;\n}\n\nconst getGameById = async(home, visitor) => {\n  let res;\n  try {\n    res = await instance.get('/schedule/gamesById', { \n      params:{\n        homeTeamAbbr: home,\n        visitorTeamAbbr: visitor,\n      }\n    });\n  }\n  catch(error) {\n    if (!error.response) {\n      return 'Server no response'\n    } else {\n      console.log(error);\n    }\n  }\n  return res;\n};\n\nexport { login, signUp, getGameByDate, newBet, getBetHistory, drawBet, getGameById };\n"]},"metadata":{},"sourceType":"module"}