{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zhengshipeng/Desktop/NS/wp1092-final/app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/zhengshipeng/Desktop/NS/wp1092-final/app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/zhengshipeng/Desktop/NS/wp1092-final/app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,React,useEffect}from'react';import{makeStyles}from'@material-ui/core/styles';import{Paper,Typography,Grid,TextField,Button,Modal}from'@material-ui/core';import nba_image from\"./nba_logo.png\";import fire from\"./fire.png\";import ice from\"./ice.png\";import bronze from\"./bronze.png\";import silver from\"./silver.png\";import gold from\"./gold.png\";import diamond from\"./diamond.png\";import{login,signUp}from'../api';import ReactCardFlip from'react-card-flip';import BetHistory from'../components/BetHistory';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{// position: 'relative',\nbackgroundColor:\"black\",marginBottom:theme.spacing(1),elevation:2,flexGrow:1,padding:\"10px\",height:\"25vh\"},typography:{fontFamily:\"fantasy\"},userInfo:{color:\"#ffffff\"},logIn:{backgroundColor:\"#d9e7ff\",padding:\"10px\",height:\"20vh\"},signUp:{backgroundColor:\"#ffe8ec\",padding:\"10px\",height:\"auto\"},textField:{marginLeft:theme.spacing(0.5),marginRight:theme.spacing(0.5),width:\"2in\",color:\"white\"},button:{marginTop:theme.spacing(1)}};});export default function Header(_ref){var user=_ref.user,setUser=_ref.setUser,isLogin=_ref.isLogin,setIsLogin=_ref.setIsLogin;var classes=useStyles();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassWord=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),hintText=_useState6[0],setHintText=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),openBetHistory=_useState8[0],setOpenBetHistory=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),flippedToSign=_useState10[0],setFlippedToSign=_useState10[1];console.log(isLogin);var handleChange=function handleChange(func){return function(event){func(event.target.value);};};var handleLogin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$login,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(userName===\"\"&&password===\"\")){_context.next=3;break;}setHintText(\"Missing username and password!\");return _context.abrupt(\"return\");case 3:if(!(userName===\"\")){_context.next=6;break;}setHintText(\"Missing username!\");return _context.abrupt(\"return\");case 6:if(!(password===\"\")){_context.next=9;break;}setHintText(\"Missing password!\");return _context.abrupt(\"return\");case 9:_context.next=11;return login({name:userName,password:password});case 11:_yield$login=_context.sent;data=_yield$login.data;if(data.type===\"success\"){console.log(data);console.log(data.user);setUser(data.user);setIsLogin(true);setUserName(\"\");setPassWord(\"\");}else if(data.type===\"error\"){setHintText(data.message);}case 14:case\"end\":return _context.stop();}}},_callee);}));return function handleLogin(){return _ref2.apply(this,arguments);};}();var handleSignUp=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$signUp,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(userName===\"\"&&password===\"\")){_context2.next=3;break;}setHintText(\"Missing username and password!\");return _context2.abrupt(\"return\");case 3:if(!(userName===\"\")){_context2.next=6;break;}setHintText(\"Missing username!\");return _context2.abrupt(\"return\");case 6:if(!(password===\"\")){_context2.next=9;break;}setHintText(\"Missing password!\");return _context2.abrupt(\"return\");case 9:_context2.next=11;return signUp({name:userName,password:password});case 11:_yield$signUp=_context2.sent;data=_yield$signUp.data;if(data.type===\"success\"){setHintText(data.message);setFlippedToSign(false);setUserName(\"\");setPassWord(\"\");}else if(data.type===\"error\"){setHintText(data.message);}case 14:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSignUp(){return _ref3.apply(this,arguments);};}();var handleSwitch=function handleSwitch(){if(flippedToSign===true)setFlippedToSign(false);else setFlippedToSign(true);setHintText(\"\");setUserName(\"\");setPassWord(\"\");};var handleOpenBetHistory=function handleOpenBetHistory(){setOpenBetHistory(true);};var handleCloseBetHistory=function handleCloseBetHistory(){setOpenBetHistory(false);};var handleLogout=function handleLogout(){setIsLogin(false);setHintText(\"\");setUser({});};return/*#__PURE__*/_jsx(Paper,{className:classes.root,children:/*#__PURE__*/_jsxs(Grid,{container:true,justify:\"spacing-between\",alignItems:\"center\",style:{height:\"100%\"},children:[/*#__PURE__*/_jsxs(Grid,{item:true,container:true,xs:4,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:2,style:{height:\"100%\"},children:/*#__PURE__*/_jsx(\"img\",{src:nba_image,alt:\"nba logo\",style:{height:\"80%\",width:\"80%\"}})}),/*#__PURE__*/_jsxs(Grid,{container:true,item:true,xs:2,direction:\"column\",spacing:1,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Typography,{textAlign:\"left\",className:classes.typography,component:\"h1\",variant:\"h2\",children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"#17408b\"},children:\"N\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"#ffffff\"},children:\"B\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"#c9082a\"},children:\"A\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{textAlign:\"left\",className:classes.typography,style:{color:\"#ffffff\"},component:\"h1\",variant:\"h2\",children:\"Lottery\"})})]})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:3}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,align:\"center\",children:isLogin?/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",alignItems:\"center\",justify:\"space-evenly\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Typography,{className:(classes.typography,classes.userInfo),variant:\"h5\",children:[\"Welcome back, \",user.name,\"!\"]})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Typography,{className:(classes.typography,classes.userInfo),variant:\"h5\",children:[\"You have \",user.money,\" in your wallet.\"]})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"row\",justify:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"secondary\",onClick:handleLogout,children:\"Logout\"})}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"secondary\",onClick:handleOpenBetHistory,children:\"Betting History\"}),/*#__PURE__*/_jsx(Modal,{open:openBetHistory,onClose:handleCloseBetHistory,\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",children:/*#__PURE__*/_jsx(BetHistory,{user:user,setUser:setUser})})]})]})})]}):/*#__PURE__*/_jsxs(ReactCardFlip,{isFlipped:flippedToSign,flipDirection:\"vertical\",children:[/*#__PURE__*/_jsxs(Paper,{elevation:3,className:classes.logIn,children:[/*#__PURE__*/_jsx(TextField,{size:\"small\",label:\"UserName\",className:classes.textField,variant:\"outlined\",value:userName,onChange:handleChange(setUserName)}),/*#__PURE__*/_jsx(TextField,{size:\"small\",label:\"Password\",type:\"password\",className:classes.textField,variant:\"outlined\",value:password,onChange:handleChange(setPassWord)}),/*#__PURE__*/_jsx(Grid,{item:true,xs:2,children:/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",className:classes.button,onClick:handleLogin,children:\"Login\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:hintText})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(Button,{onClick:handleSwitch,children:/*#__PURE__*/_jsx(\"u\",{children:\"Haven't signup? Click to signup!\"})})})]}),/*#__PURE__*/_jsxs(Paper,{elevation:3,className:classes.signUp,children:[/*#__PURE__*/_jsx(TextField,{size:\"small\",label:\"UserName\",className:classes.textField,variant:\"outlined\",value:userName,onChange:handleChange(setUserName)}),/*#__PURE__*/_jsx(TextField,{size:\"small\",label:\"Password\",type:\"password\",className:classes.textField,variant:\"outlined\",value:password,onChange:handleChange(setPassWord)}),/*#__PURE__*/_jsx(Grid,{item:true,xs:2,children:/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",className:classes.button,onClick:handleSignUp,children:\"SignUp\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:hintText})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(Button,{onClick:handleSwitch,children:/*#__PURE__*/_jsx(\"u\",{children:\"Already have an account? Click to login!\"})})})]})]})}),/*#__PURE__*/_jsxs(Grid,{item:true,container:true,xs:1,direction:\"column\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:isLogin&&user.betCount>=10?user.winCount/user.betCount>=0.7?/*#__PURE__*/_jsx(\"img\",{src:fire,width:\"50%\",height:\"50%\"}):user.winCount/user.betCount<=0.3?/*#__PURE__*/_jsx(\"img\",{src:ice,width:\"50%\",height:\"50%\"}):/*#__PURE__*/_jsx(_Fragment,{}):/*#__PURE__*/_jsx(_Fragment,{})}),/*#__PURE__*/_jsx(Grid,{item:true,children:user.betCount>=100?/*#__PURE__*/_jsx(\"img\",{src:diamond,width:\"50%\",height:\"50%\"}):user.betCount>=80?/*#__PURE__*/_jsx(\"img\",{src:gold,width:\"50%\",height:\"50%\"}):user.betCount>=50?/*#__PURE__*/_jsx(\"img\",{src:silver,width:\"50%\",height:\"50%\"}):user.betCount>=10?/*#__PURE__*/_jsx(\"img\",{src:bronze,width:\"50%\",height:\"50%\"}):/*#__PURE__*/_jsx(_Fragment,{})})]})]})});}","map":{"version":3,"sources":["/Users/zhengshipeng/Desktop/NS/wp1092-final/app/frontend/src/containers/Header.js"],"names":["useState","React","useEffect","makeStyles","Paper","Typography","Grid","TextField","Button","Modal","nba_image","fire","ice","bronze","silver","gold","diamond","login","signUp","ReactCardFlip","BetHistory","useStyles","theme","root","backgroundColor","marginBottom","spacing","elevation","flexGrow","padding","height","typography","fontFamily","userInfo","color","logIn","textField","marginLeft","marginRight","width","button","marginTop","Header","user","setUser","isLogin","setIsLogin","classes","userName","setUserName","password","setPassWord","hintText","setHintText","openBetHistory","setOpenBetHistory","flippedToSign","setFlippedToSign","console","log","handleChange","func","event","target","value","handleLogin","name","data","type","message","handleSignUp","handleSwitch","handleOpenBetHistory","handleCloseBetHistory","handleLogout","money","betCount","winCount"],"mappings":"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","sourcesContent":["import {useState, React, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Paper, Typography, Grid, TextField, Button, Modal } from '@material-ui/core';\nimport nba_image from \"./nba_logo.png\"\nimport fire from \"./fire.png\"\nimport ice from \"./ice.png\"\nimport bronze from \"./bronze.png\"\nimport silver from \"./silver.png\"\nimport gold from \"./gold.png\"\nimport diamond from \"./diamond.png\"\nimport {login, signUp} from '../api'\nimport ReactCardFlip from 'react-card-flip';\nimport BetHistory from '../components/BetHistory';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        // position: 'relative',\n        backgroundColor: \"black\",\n        marginBottom: theme.spacing(1),\n        elevation: 2,\n        flexGrow: 1,\n        padding: \"10px\",\n        height: \"25vh\"\n    },\n    typography: {\n        fontFamily: \"fantasy\",\n    },\n    userInfo: {\n        color: \"#ffffff\",\n    },\n    logIn: {\n        backgroundColor: \"#d9e7ff\",\n        padding: \"10px\",\n        height: \"20vh\"\n    },\n    signUp: {\n        backgroundColor: \"#ffe8ec\",\n        padding: \"10px\",\n        height: \"auto\"\n    },\n    textField: {\n        marginLeft: theme.spacing(0.5),\n        marginRight: theme.spacing(0.5),\n        width: \"2in\",\n        color: \"white\",\n    },\n    button: {\n        marginTop: theme.spacing(1)\n    },\n}));\n\nexport default function Header({user , setUser, isLogin, setIsLogin}) {\n    const classes = useStyles();\n    const [userName, setUserName] = useState(\"\");\n    const [password, setPassWord] = useState(\"\");\n    const [hintText, setHintText] = useState(\"\");\n    const [openBetHistory, setOpenBetHistory] = useState(false);\n    const [flippedToSign, setFlippedToSign] = useState(false);\n    console.log(isLogin);\n    const handleChange = (func) => (event) => {\n        func(event.target.value);\n    };\n\n    const handleLogin = async ()=>{\n        if (userName === \"\" && password === \"\") {\n            setHintText(\"Missing username and password!\")\n            return;\n        }\n        if (userName === \"\"){\n            setHintText(\"Missing username!\")\n            return;\n        }\n        if (password === \"\"){\n            setHintText(\"Missing password!\")\n            return;\n        }\n        const {data} = await login({ name: userName, password: password });\n        if (data.type === \"success\"){\n            console.log(data)\n            console.log(data.user)\n            setUser(data.user);\n            setIsLogin(true);\n            setUserName(\"\")\n            setPassWord(\"\")\n        }\n        else if (data.type === \"error\"){\n            setHintText(data.message);\n        }\n    }\n\n    const handleSignUp = async () => {\n        if (userName === \"\" && password === \"\") {\n            setHintText(\"Missing username and password!\")\n            return;\n        }\n        if (userName === \"\") {\n            setHintText(\"Missing username!\")\n            return;\n        }\n        if (password === \"\") {\n            setHintText(\"Missing password!\")\n            return;\n        }\n        const {data} = await signUp({ name: userName, password: password });\n        if (data.type === \"success\") {\n            setHintText(data.message);\n            setFlippedToSign(false)\n            setUserName(\"\")\n            setPassWord(\"\")\n        }\n        else if (data.type === \"error\") {\n            setHintText(data.message);\n        }\n    }\n\n    const handleSwitch = () =>{\n        if (flippedToSign === true) setFlippedToSign(false);\n        else setFlippedToSign(true)\n        setHintText(\"\");\n        setUserName(\"\");\n        setPassWord(\"\");\n    }\n        \n    const handleOpenBetHistory = () => {\n        setOpenBetHistory(true);\n    }\n\n    const handleCloseBetHistory = () => {\n        setOpenBetHistory(false);\n    }\n\n    const handleLogout = ()=>{\n        setIsLogin(false);\n        setHintText(\"\");\n        setUser({});\n    }\n\n\n    return (\n        <Paper className={classes.root} >\n            {/* Increase the priority of the hero background image */}\n            {/* {<img style={{ display: 'none' }} src={post.image} alt={post.imageText} />} */}\n            <Grid container justify=\"spacing-between\" alignItems='center' style={{height: \"100%\"}}>\n                <Grid item container xs={4} alignItems='center' >\n                    <Grid item xs={2} style={{height:\"100%\"}}>\n                        <img src={nba_image} alt=\"nba logo\" style={{ height: \"80%\", width: \"80%\" }} />\n                    </Grid>\n                    <Grid container item xs={2} direction=\"column\" spacing={1}  >\n                        <Grid item>\n                            <Typography  textAlign=\"left\" className={classes.typography} component=\"h1\" variant=\"h2\">\n                                <span style={{ color: \"#17408b\" }}>N</span>\n                                <span style={{ color: \"#ffffff\" }}>B</span>\n                                <span style={{ color: \"#c9082a\" }}>A</span>\n                            </Typography>\n                        </Grid>\n                        <Grid item>\n                            <Typography textAlign=\"left\" className={classes.typography} style={{ color: \"#ffffff\" }} component=\"h1\" variant=\"h2\">\n                                Lottery\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                </Grid>\n                \n                <Grid item xs={3}></Grid>                \n                <Grid item xs={4} align=\"center\">\n                    {isLogin? \n                        (<Grid container direction='column' alignItems='center' justify='space-evenly'>\n                            <Grid item>\n                                <Typography className={classes.typography, classes.userInfo} variant=\"h5\">\n                                    Welcome back, {user.name}!\n                                </Typography>\n                            </Grid>\n                            <Grid item>\n                                <Typography className={classes.typography, classes.userInfo} variant=\"h5\">\n                                    You have {user.money} in your wallet.\n                                </Typography>\n                            </Grid>\n                            <Grid item>\n                                <Grid container direction='row' justify='space-between' alignItems='center'>\n                                    <Grid item>\n                                        <Button variant=\"outlined\" color=\"secondary\" onClick={handleLogout}>Logout</Button>\n                                    </Grid>\n                                    <Grid item>\n                                        <Button variant=\"outlined\" color=\"secondary\" onClick={handleOpenBetHistory}>Betting History</Button>\n                                        <Modal\n                                            open={openBetHistory}\n                                            onClose={handleCloseBetHistory}\n                                            aria-labelledby=\"simple-modal-title\"\n                                            aria-describedby=\"simple-modal-description\"\n                                        >\n                                            <BetHistory user={user} setUser={setUser}/>\n                                        </Modal>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </Grid>) :\n                        (<ReactCardFlip isFlipped={flippedToSign} flipDirection=\"vertical\">\n                            <Paper elevation={3} className={classes.logIn}>\n                                <TextField size=\"small\" label=\"UserName\" className={classes.textField}\n                                    variant=\"outlined\" value={userName} onChange={handleChange(setUserName)} />\n                                <TextField size=\"small\" label=\"Password\" type=\"password\" className={classes.textField}\n                                    variant=\"outlined\" value={password} onChange={handleChange(setPassWord)} />\n                                <Grid item xs={2}>\n                                    <Button color=\"primary\" variant=\"contained\" className={classes.button} onClick={handleLogin}>Login</Button>\n                                </Grid>\n                                <Grid item>\n                                    <Typography variant=\"body2\">{hintText}</Typography>\n                                </Grid>\n                                <Grid item xs>\n                                    <Button onClick={handleSwitch}><u>Haven't signup? Click to signup!</u></Button>\n                                </Grid>\n                            </Paper>\n                            <Paper elevation={3} className={classes.signUp}>\n                                <TextField size=\"small\" label=\"UserName\" className={classes.textField}\n                                    variant=\"outlined\" value={userName} onChange={handleChange(setUserName)} />\n                                <TextField size=\"small\" label=\"Password\" type=\"password\"  className={classes.textField}\n                                    variant=\"outlined\" value={password} onChange={handleChange(setPassWord)} />\n                                <Grid item xs={2}>\n                                    <Button color=\"primary\" variant=\"contained\" className={classes.button} onClick={handleSignUp}>SignUp</Button>\n                                </Grid>\n                                <Grid item>\n                                    <Typography variant=\"body2\">{hintText}</Typography>\n                                </Grid>\n                                <Grid item xs>\n                                    <Button onClick={handleSwitch}><u>Already have an account? Click to login!</u></Button>\n                                </Grid>\n                            </Paper>\n                        </ReactCardFlip>)}\n                </Grid>\n                <Grid item container xs={1} direction=\"column\">\n                    <Grid item>\n                        {(isLogin && user.betCount >= 10)? (\n                            ((user.winCount / user.betCount >= 0.7)? (\n                                <img src={fire} width=\"50%\" height=\"50%\" />\n                            ): ((user.winCount / user.betCount <= 0.3)? (\n                                <img src={ice} width=\"50%\" height=\"50%\" />\n                            ):(<></>)))):(<></>)}\n                    </Grid>\n                    <Grid item>\n                        {(user.betCount >= 100)? (\n                            <img src={diamond} width=\"50%\" height=\"50%\" />\n                        ):((user.betCount >= 80)? (\n                            <img src={gold} width=\"50%\" height=\"50%\" />\n                        ):((user.betCount >= 50)?(\n                            <img src={silver} width=\"50%\" height=\"50%\" />\n                        ):(user.betCount >= 10)?(\n                            <img src={bronze} width=\"50%\" height=\"50%\" />\n                        ):(<></>)))}\n                    </Grid>\n                </Grid>\n            </Grid>\n        </Paper>\n    );\n}\n\nHeader.propTypes = {\n    post: PropTypes.object,\n};\n"]},"metadata":{},"sourceType":"module"}